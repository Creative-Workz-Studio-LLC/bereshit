# #!omni data --toml
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Health Schema - CPI-SI Health Scoring (3-Block Data Structure)
# Key: B-word-core-schemas-health
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#
# DEPENDENCY CLASSIFICATION: RUNG (builds on primitives + types, used by bhealth)
#
# Derived from: OmniCode 3-block data structure
# References: word/core/primitives.toml, word/core/types.toml
#
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# =============================================================================
# METADATA
# =============================================================================
#
# Package:     bereshit/word/core/schemas
# File:        health.toml
# Key:         B-word-core-schemas-health
#
# -----------------------------------------------------------------------------
# CORE IDENTITY (Required)
# -----------------------------------------------------------------------------
#
# # Biblical Foundation
#
# Scripture: "Just balances, just weights, a just ephah, and a just hin, shall
#            you have. I am Yahweh your God." â€” Leviticus 19:36 WEB
#
# Principle: Health is measured on a JUST BALANCE â€” centered at zero (even balance),
#            with positive values showing INTEGRITY (wholeness) and negative values
#            showing WANTING (lacking). God commands accurate measurement.
#
# Anchor: "Let me be weighed in an even balance, that God may know my integrity."
#         â€” Job 31:6 WEB
#
# Supporting: "For Yahweh is a God of knowledge. By him actions are weighed."
#             â€” 1 Samuel 2:3 WEB
#
# Warning: "TEKEL; you are weighed in the balances, and are found wanting."
#          â€” Daniel 5:27 WEB
#
# # CPI-SI Identity
#
# Component Type: Rung (schema that defines health scoring structure)
#
# Role: Schema definition for .health files â€” the ternary balance scoring system
#       that tracks directory and file integrity across the bereshit filesystem.
#
# Paradigm: CPI-SI framework component â€” health as just balance measurement
#
# # Authorship & Lineage
#
#   Architect: Seanje Lenox-Wise
#   Implementation: Nova Dawn
#   Created: 2025-12-11
#   Version: a-02.00
#   Modified: 2025-12-12 - Updated to ternary balance scale (-100 to +100)
#
# # Purpose & Function
#
# Purpose: Define the schema for .health files used by bhealth tool
#
# Core Design: Ternary balance scale from -100 to +100, centered at 0
#
# Key Features:
#
#   - Ternary scale: -100 (wanting) to 0 (even) to +100 (integrity)
#   - Biblical grounding: Just balance (Leviticus 19:36), even balance (Job 31:6)
#   - Human readable: Signed integer, visible in any text editor
#   - Ternary native: Maps directly to balanced ternary representation
#   - Hierarchical: Parent health reflects child health
#   - Tool integration: bhealth reads/writes this format
#
# Philosophy: Health is weighed on a just balance. Zero is the anchor (even balance),
#             positive indicates integrity (wholeness), negative indicates wanting (lacking).
#
# -----------------------------------------------------------------------------
# INTERFACE (Expected)
# -----------------------------------------------------------------------------
#
# # Dependencies
#
# What This Needs:
#
#   - Parser: Simple text file reader (8 ASCII 0/1 characters â†’ uint8)
#   - Primitives: word/core/primitives.toml (uint8 for storage, trit5 for ternary)
#   - Types: word/core/types.toml (struct, constraint definitions)
#
# What Uses This:
#
#   - bhealth: Health initialization and checking tool
#   - statusline: Display health in terminal prompt
#   - CPI-SI hooks: Update health on file operations
#   - Git hooks: Track health changes in commits
#
# Integration Points:
#
#   - Primitives: word/core/primitives.toml
#   - Types: word/core/types.toml
#   - Tools: word/work/bin/bereshit/health/bhealth
#   - Hooks: .claude/hooks/tool/post-use.go
#
# -----------------------------------------------------------------------------
# OPERATIONAL (Contextual)
# -----------------------------------------------------------------------------
#
# # Blocking Status
#
# [OMIT: Schema file â€” defines structure, not executable]
#
# # Health Scoring
#
# Configuration Impact: Invalid schema would break all health tracking
#
# Validation Behavior:
#   - Invalid health value: Error â€” must be 8 ASCII 0/1 characters
#   - Out of range: Clamp to 00000000-11111111 (stored 0-255)
#   - Missing file: Initialize to default (10000000 = stored 128 = ternary 0 = even balance)
#
# =============================================================================
# END METADATA
# =============================================================================

# =============================================================================
# CONTENT
# =============================================================================
#
# 3-Block Data: METADATA â†’ CONTENT â†’ CLOSING
# The middle block defines the health schema structure and rules.
#
# -----------------------------------------------------------------------------
# CONTENT Sections Overview
# -----------------------------------------------------------------------------
#
# 1. HEALTH TYPE
#    Purpose: Core health value definition (8-bit)
#
# 2. HEALTH LEVELS
#    Purpose: Named states with thresholds
#
# 3. DISPLAY MAPPING
#    Purpose: Emoji and color associations
#
# 4. FILE FORMAT
#    Purpose: What .health files contain
#
# 5. CALCULATION RULES
#    Purpose: How health is computed and updated
#
# 6. HIERARCHICAL RULES
#    Purpose: How parent health relates to children
#
# =============================================================================

# -----------------------------------------------------------------------------
# 1. Health Type - Core Definition
# -----------------------------------------------------------------------------
# Ternary balance scale: -100 (wanting) to 0 (even) to +100 (integrity)
#
# Scripture basis: "Let me be weighed in an even balance" â€” Job 31:6 WEB
# The balance is CENTERED at zero, with positive (integrity) and negative (wanting).

[health]
name = "health"
description = "Health score value â€” uint8 stored, interpreted as ternary balance"
base_type = "uint8"  # References primitives.toml â€” 8-bit unsigned (0-255)
storage_format = "binary_ascii"  # "01000001" etc.
# Storage foundation (crystallized):
storage_min = 0
storage_max = 255
storage_default = 128  # Center point
# Ternary interpretation (built on foundation):
#   0 = -100 (fully wanting)
#   128 = 0 (even balance â€” anchor)
#   255 = +100 (full integrity)
# Biblical terms:
#   129-255 = Integrity (×ªÖ»Ö¼×Ö¸Ö¼×” tummah) â€” wholeness, completeness
#   128 = Even Balance (×Ö¹××–Ö°× Ö·×™Ö´× moznayim) â€” neutral, centered
#   0-127 = Wanting (×—Ö¸×¡Öµ×¨ chaser) â€” lacking, deficient
# Scripture basis: "Just balances... shall you have" â€” Leviticus 19:36 WEB
# See: syntax.toml [declaration.let_be_from]

[health.encoding]
description = "How the value is stored in .health files"
file_extension = ".health"
line_terminator = "LF"  # Unix newline only
format = "binary_ascii"  # "00000000" to "11111111"
length = 8  # Exactly 8 ASCII characters (0 or 1)
# Crystallized foundation â€” do not change storage format

[health.ternary]
description = "Ternary interpretation of stored uint8 value (true score)"
# The uint8 (0-255) maps to ternary scale (-100 to +100):
#   stored_value â†’ ternary_value = (stored - 128) * 100 / 127
#   ternary_value â†’ stored_value = (ternary * 127 / 100) + 128
# This preserves the 8-bit foundation while enabling ternary interpretation
interpretation_min = -100
interpretation_max = 100
interpretation_center = 0  # Maps to stored value 128
# Balanced trit representation (5 trits cover -121 to +121):
trits = 5
# Example mappings (true score):
#   stored=0   â†’ ternary=-100 (fully wanting)
#   stored=64  â†’ ternary=-50  (wanting)
#   stored=128 â†’ ternary=0    (even balance)
#   stored=192 â†’ ternary=+50  (integrity)
#   stored=255 â†’ ternary=+100 (full integrity)

[health.normalized]
description = "Normalized ternary for practical display (calculus approach)"
# The true ternary score (-100 to +100) normalizes to key points based on selected base.
# This is the derivative approach: key inflection points on the scale.
# Multiple bases supported for different granularity needs.
default_base = 50  # Base50 is default (5 key points)

[health.normalized.bases]
# Each base defines the step size for normalization.
# Formula: key_points = range(-100, 101, base) â†’ rounds to nearest

[health.normalized.bases.base1]
description = "Full precision â€” every integer"
step = 1
points = 201  # -100 to +100 inclusive
# No rounding needed â€” true score IS the normalized value
use_case = "Precise calculations, internal processing"

[health.normalized.bases.base5]
description = "Fine granularity â€” 5-point steps"
step = 5
points = 41  # -100, -95, -90, ..., 0, ..., +95, +100
key_points = [-100, -95, -90, -85, -80, -75, -70, -65, -60, -55, -50, -45, -40, -35, -30, -25, -20, -15, -10, -5, 0, 5, 10, 15, 20, 25, 30, 35, 40, 45, 50, 55, 60, 65, 70, 75, 80, 85, 90, 95, 100]
use_case = "Detailed progress tracking, gradual changes"

[health.normalized.bases.base10]
description = "Standard granularity â€” 10-point steps"
step = 10
points = 21  # -100, -90, -80, ..., 0, ..., +90, +100
key_points = [-100, -90, -80, -70, -60, -50, -40, -30, -20, -10, 0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 100]
use_case = "General display, percentage-like reporting"

[health.normalized.bases.base20]
description = "Moderate granularity â€” 20-point steps"
step = 20
points = 11  # -100, -80, -60, -40, -20, 0, +20, +40, +60, +80, +100
key_points = [-100, -80, -60, -40, -20, 0, 20, 40, 60, 80, 100]
use_case = "Quick assessments, dashboard summaries"

[health.normalized.bases.base25]
description = "Quarter-scale â€” 25-point steps"
step = 25
points = 9  # -100, -75, -50, -25, 0, +25, +50, +75, +100
key_points = [-100, -75, -50, -25, 0, 25, 50, 75, 100]
use_case = "Balanced granularity, maps to 7-level system boundaries"

[health.normalized.bases.base50]
description = "Coarse granularity â€” 50-point steps (default)"
step = 50
points = 5  # -100, -50, 0, +50, +100
key_points = [-100, -50, 0, 50, 100]
use_case = "Quick glance, status indicators, CPI-SI statusline"

# NORMALIZATION FORMULA (for any base):
#   normalized = round(true_score / base) * base
#
# Examples with true_score = 37:
#   Base1:  round(37/1)*1   = 37
#   Base5:  round(37/5)*5   = 35
#   Base10: round(37/10)*10 = 40
#   Base20: round(37/20)*20 = 40
#   Base25: round(37/25)*25 = 50
#   Base50: round(37/50)*50 = 50

[health.normalized.mapping]
# Reference mapping for Base50 (default)
# Storage â†’ True â†’ Normalized (Base50)
boundaries = [
    { stored = 0,   true_ternary = -100, base50 = -100 },
    { stored = 32,  true_ternary = -75,  base50 = -100, base25 = -75 },
    { stored = 64,  true_ternary = -50,  base50 = -50 },
    { stored = 96,  true_ternary = -25,  base50 = 0, base25 = -25 },
    { stored = 128, true_ternary = 0,    base50 = 0 },  # center
    { stored = 160, true_ternary = 25,   base50 = 0, base25 = 25 },
    { stored = 192, true_ternary = 50,   base50 = 50 },
    { stored = 224, true_ternary = 75,   base50 = 100, base25 = 75 },
    { stored = 255, true_ternary = 100,  base50 = 100 },
]


# -----------------------------------------------------------------------------
# 2. Health Levels - Named States (Ternary Balance)
# -----------------------------------------------------------------------------
# Biblical framework: Integrity (+) â†” Even Balance (0) â†” Wanting (-)
#
# Scripture basis:
#   - Integrity: Job 31:6 â€” "that God may know my integrity"
#   - Wanting: Daniel 5:27 â€” "weighed in the balances, and found wanting"
#
# Biblical syntax for levels:
#   level chosen from broken or wanting or lacking or even or sound or whole or perfect
#   when health below -66 then level is broken
#   when health from -32 to +32 then level is even
#   when health above +66 then level is perfect
# See: syntax.toml [constraint.chosen_from], [conditional.when_then]

# NEGATIVE LEVELS (Wanting - ×—Ö¸×¡Öµ×¨ chaser)
# Stored values 0-127 map to ternary -100 to -1
[levels.broken]
name = "broken"
description = "Severely wanting â€” failed state, requires restoration"
hebrew = "×©Ö¸××‘Ö·×¨"  # shavar - broken
# Storage (foundation):
min_stored = 0
max_stored = 42
binary_range = ["00000000", "00101010"]
# Ternary interpretation:
ternary_range = [-100, -67]
direction = "wanting"
priority = "critical"
scripture = "Daniel 5:27 â€” found wanting"

[levels.wanting]
name = "wanting"
description = "Significantly lacking â€” needs attention"
hebrew = "×—Ö¸×¡Öµ×¨"  # chaser - wanting, lacking
# Storage (foundation):
min_stored = 43
max_stored = 84
binary_range = ["00101011", "01010100"]
# Ternary interpretation:
ternary_range = [-66, -34]
direction = "wanting"
priority = "high"
scripture = "Daniel 5:27 â€” weighed and found wanting"

[levels.lacking]
name = "lacking"
description = "Somewhat deficient â€” below baseline"
hebrew = "×Ö·×—Ö°×¡×•Ö¹×¨"  # machsor - lack, want
# Storage (foundation):
min_stored = 85
max_stored = 127
binary_range = ["01010101", "01111111"]
# Ternary interpretation:
ternary_range = [-33, -1]
direction = "wanting"
priority = "medium"

# CENTER LEVEL (Even Balance - ×Ö¹××–Ö°× Ö·×™Ö´× moznayim)
[levels.even]
name = "even"
description = "Even balance â€” baseline, neither wanting nor whole"
hebrew = "×Ö¹××–Ö°× Ö·×™Ö´×"  # moznayim - balances, scales
# Storage (foundation):
min_stored = 128
max_stored = 128
binary_range = ["10000000", "10000000"]
# Ternary interpretation:
ternary_range = [0, 0]
direction = "center"
priority = "none"
scripture = "Job 31:6 â€” weighed in an even balance"

# POSITIVE LEVELS (Integrity - ×ªÖ»Ö¼×Ö¸Ö¼×” tummah)
# Stored values 129-255 map to ternary +1 to +100
[levels.sound]
name = "sound"
description = "Somewhat whole â€” above baseline"
hebrew = "×ªÖ¸Ö¼×Ö´×™×"  # tamim - sound, whole
# Storage (foundation):
min_stored = 129
max_stored = 170
binary_range = ["10000001", "10101010"]
# Ternary interpretation:
ternary_range = [1, 33]
direction = "integrity"
priority = "none"

[levels.whole]
name = "whole"
description = "Significantly complete â€” healthy state"
hebrew = "×©Ö¸××œÖµ×"  # shalem - whole, complete
# Storage (foundation):
min_stored = 171
max_stored = 212
binary_range = ["10101011", "11010100"]
# Ternary interpretation:
ternary_range = [34, 66]
direction = "integrity"
priority = "none"
scripture = "Job 2:3 â€” maintains his integrity"

[levels.perfect]
name = "perfect"
description = "Full integrity â€” complete wholeness"
hebrew = "×ªÖ»Ö¼×Ö¸Ö¼×”"  # tummah - integrity, perfection
# Storage (foundation):
min_stored = 213
max_stored = 255
binary_range = ["11010101", "11111111"]
# Ternary interpretation:
ternary_range = [67, 100]
direction = "integrity"
priority = "none"
scripture = "Job 31:6 â€” that God may know my integrity"


# LEVEL SUMMARY TABLE
# | Stored | Binary Range | Ternary | Level | Hebrew | Direction |
# |--------|--------------|---------|-------|--------|-----------|
# | 0-42 | 00000000-00101010 | -100 to -67 | broken | ×©Ö¸××‘Ö·×¨ | wanting |
# | 43-84 | 00101011-01010100 | -66 to -34 | wanting | ×—Ö¸×¡Öµ×¨ | wanting |
# | 85-127 | 01010101-01111111 | -33 to -1 | lacking | ×Ö·×—Ö°×¡×•Ö¹×¨ | wanting |
# | 128 | 10000000 | 0 | even | ×Ö¹××–Ö°× Ö·×™Ö´× | center |
# | 129-170 | 10000001-10101010 | +1 to +33 | sound | ×ªÖ¸Ö¼×Ö´×™× | integrity |
# | 171-212 | 10101011-11010100 | +34 to +66 | whole | ×©Ö¸××œÖµ× | integrity |
# | 213-255 | 11010101-11111111 | +67 to +100 | perfect | ×ªÖ»Ö¼×Ö¸Ö¼×” | integrity |


# -----------------------------------------------------------------------------
# 3. Display Mapping - Visual Indicators
# -----------------------------------------------------------------------------
# Emoji and colors for each level
# Maps to the 7-level ternary system: broken â†’ wanting â†’ lacking â†’ even â†’ sound â†’ whole â†’ perfect

# WANTING LEVELS (negative ternary)
[display.broken]
level = "broken"
emoji = "ğŸ’”"
color = "red"
ansi_code = "\\033[31m"
description = "Broken heart â€” critical state, needs restoration"

[display.wanting]
level = "wanting"
emoji = "ğŸ©¹"
color = "orange"
ansi_code = "\\033[33m"
description = "Bandage â€” significantly lacking"

[display.lacking]
level = "lacking"
emoji = "ğŸ’›"
color = "yellow"
ansi_code = "\\033[93m"
description = "Yellow heart â€” below baseline"

# CENTER LEVEL (even balance)
[display.even]
level = "even"
emoji = "âš–ï¸"
color = "white"
ansi_code = "\\033[37m"
description = "Scales â€” even balance, baseline"

# INTEGRITY LEVELS (positive ternary)
[display.sound]
level = "sound"
emoji = "ğŸ’š"
color = "green"
ansi_code = "\\033[32m"
description = "Green heart â€” above baseline"

[display.whole]
level = "whole"
emoji = "ğŸ’™"
color = "blue"
ansi_code = "\\033[34m"
description = "Blue heart â€” significantly whole"

[display.perfect]
level = "perfect"
emoji = "ğŸ’œ"
color = "magenta"
ansi_code = "\\033[35m"
description = "Purple heart â€” full integrity"


# -----------------------------------------------------------------------------
# 4. File Format - .health File Structure
# -----------------------------------------------------------------------------
# What a .health file contains (CRYSTALLIZED FOUNDATION)

[file]
name = ".health"
description = "Health score file â€” one per directory"
location = "directory root"  # Each directory has its own
hidden = true  # Dot-prefixed
content_type = "text/plain"

[file.structure]
# CRYSTALLIZED â€” do not change storage format
line_count = 1  # Single line only
content = "8 ASCII binary digits"  # Foundation: uint8 as binary
example = "10000000"  # 128 = even balance (ternary 0)
trailing_newline = true  # LF at end
# Examples with ternary interpretation:
#   "00000000" = stored 0 = ternary -100 (fully wanting)
#   "01000000" = stored 64 = ternary -50 (wanting)
#   "10000000" = stored 128 = ternary 0 (even balance) â† DEFAULT
#   "11000000" = stored 192 = ternary +50 (integrity)
#   "11111111" = stored 255 = ternary +100 (full integrity)

[file.permissions]
read = "all"  # Anyone can read health
write = "owner"  # Only owner/tools can modify
execute = "none"

[file.git]
track = true  # Health files are tracked in git
ignore = false
commit_message_prefix = "[health]"


# -----------------------------------------------------------------------------
# 5. Calculation Rules - How Health Changes
# -----------------------------------------------------------------------------
# Rules for computing and updating health scores
#
# Biblical syntax for calculation:
#   when file_created then increase health by 5
#   when tests_failing then decrease health by 10
#   when 30 days pass without activity then health decays by 1
# Scripture basis: Blessings for obedience, curses for disobedience â€” Deuteronomy 28
# See: syntax.toml [conditional.when_then]

[calculation.initialization]
description = "How new .health files are created"
default_value = "10000000"  # 128 = even balance (ternary 0) â€” start at center
trigger = "bhealth -init"
# Ternary interpretation: New files start at even balance, neither wanting nor whole.
# This reflects: "let him be weighed in an even balance" â€” Job 31:6

[calculation.increase]
description = "Events that increase health (toward integrity)"
events = [
    "file_created",
    "file_updated",
    "tests_passing",
    "documentation_added",
    "lint_clean"
]
max_increase_per_event = 5  # Stored value increases
ceiling = 255  # Cannot exceed full integrity (ternary +100)
# Ternary: Moving from 128â†’255 = moving from 0â†’+100

[calculation.decrease]
description = "Events that decrease health (toward wanting)"
events = [
    "file_deleted",
    "tests_failing",
    "lint_errors",
    "stale_file",
    "broken_reference"
]
max_decrease_per_event = 10  # Stored value decreases
floor = 0  # Cannot go below fully wanting (ternary -100)
# Ternary: Moving from 128â†’0 = moving from 0â†’-100

[calculation.staleness]
description = "Health decay over time without activity"
decay_enabled = true
decay_rate = 1  # Stored value loses 1 per period
decay_period = "30d"  # 30 days
minimum_after_decay = 128  # Never decay below even balance (ternary 0)
# Philosophy: Without action, health returns to baseline, not destruction.
# Stale code isn't broken code â€” it's just not growing.


# -----------------------------------------------------------------------------
# 6. Hierarchical Rules - Parent/Child Relationships
# -----------------------------------------------------------------------------
# How directory health relates to contents
#
# Biblical syntax for hierarchy:
#   parent health is average of children health
#   when child health changes then parent recalculates
# Scripture basis: "The fathers have eaten sour grapes, and the children's
#                   teeth are set on edge" â€” Ezekiel 18:2 (generational effects)
# See: syntax.toml [conditional.when_then], [relation.is]

[hierarchy.aggregation]
description = "How parent health is computed from children"
method = "weighted_average"  # Average of child health scores
weights = { directories = 1.5, files = 1.0 }  # Directories weigh more
include_hidden = false  # Don't include .dotfiles in calculation

[hierarchy.propagation]
description = "How changes propagate up the tree"
immediate = true  # Update parent when child changes
recalculate_on = ["child_health_change", "child_added", "child_removed"]

[hierarchy.inheritance]
description = "How new children inherit health"
inherit_from_parent = false  # Start fresh, don't inherit
use_default = true  # Use calculation.initialization.default_value


# =============================================================================
# END CONTENT
# =============================================================================

# =============================================================================
# CLOSING
# =============================================================================
#
# 3-Block Data: METADATA â†’ CONTENT â†’ CLOSING
# The closing block defines validation, policy, and synthesis.
#
# -----------------------------------------------------------------------------
# CLOSING Sections Overview (3-Block Adapted)
# -----------------------------------------------------------------------------
#
# 1. OPERATIONS
#    - Validation: How to verify health files are correct
#    - Access: How to read/write health values
#
# 2. POLICY
#    - Modification: What's safe to change
#
# 3. SYNTHESIS
#    - Closing Note: Final guidance and grounding
#
# =============================================================================

# -----------------------------------------------------------------------------
# 1. Operations - Validation
# -----------------------------------------------------------------------------
#
# Verify health schema is correctly formatted:
#
#   # Syntax check (TOML parser)
#   python -c "import tomllib; f=open('word/core/schemas/health.toml','rb'); tomllib.load(f)"
#
# Health file verification:
#   - Must be exactly 8 characters (ASCII 0/1)
#   - Must have trailing LF
#   - Value must be 0-255 range
#
# Validate a .health file:
#   bhealth -check path/to/directory
#

# -----------------------------------------------------------------------------
# 2. Operations - Access
# -----------------------------------------------------------------------------
#
# Go code integration:
#
#   type Health struct {
#       // Storage foundation (crystallized)
#       Stored  uint8  // 0-255 (foundation)
#       Binary  string // "10000000" etc.
#       // Ternary interpretation (built on foundation)
#       True       int8   // -100 to +100 (true score)
#       Normalized int8   // -100, -50, 0, +50, +100 (key points)
#       Level      string // "even", "whole", etc.
#       Emoji      string // "âš–ï¸", "ğŸ’š", etc.
#   }
#
#   // StoredToTrue converts storage value to true ternary score
#   func StoredToTrue(stored uint8) int8 {
#       // 0 â†’ -100, 128 â†’ 0, 255 â†’ +100
#       return int8((int(stored) - 128) * 100 / 127)
#   }
#
#   // TrueToStored converts true ternary to storage value
#   func TrueToStored(true_val int8) uint8 {
#       // -100 â†’ 0, 0 â†’ 128, +100 â†’ 255
#       return uint8((int(true_val) * 127 / 100) + 128)
#   }
#
#   // Normalize rounds true ternary to key points (calculus approach)
#   // Supports multiple bases: 1, 5, 10, 20, 25, 50
#   func Normalize(true_val int8, base int8) int8 {
#       if base == 1 {
#           return true_val  // Base1 = full precision
#       }
#       // Formula: round(true_val / base) * base
#       return int8(math.Round(float64(true_val)/float64(base))) * base
#   }
#
#   // NormalizeDefault uses Base50 (default)
#   func NormalizeDefault(true_val int8) int8 {
#       return Normalize(true_val, 50)
#   }
#
#   func ReadHealth(path string) (Health, error) {
#       data, err := os.ReadFile(filepath.Join(path, ".health"))
#       if err != nil {
#           return Health{}, err
#       }
#       binary := strings.TrimSpace(string(data))
#       stored, _ := strconv.ParseUint(binary, 2, 8)
#       true_val := StoredToTrue(uint8(stored))
#       return Health{
#           Stored:     uint8(stored),
#           Binary:     binary,
#           True:       true_val,
#           Normalized: Normalize(true_val),
#           Level:      levelFromNormalized(Normalize(true_val)),
#           Emoji:      emojiFromLevel(levelFromNormalized(Normalize(true_val))),
#       }, nil
#   }
#
# Command line:
#   bhealth -init .           # Initialize health at even balance (128)
#   bhealth -check .          # Check and display health (shows ternary)
#   bhealth -set . +50        # Set health to ternary +50 (stored ~192)
#   bhealth -set . --raw 200  # Set health to stored 200 directly
#

# -----------------------------------------------------------------------------
# 3. Policy - Modification
# -----------------------------------------------------------------------------
#
# CRYSTALLIZED FOUNDATION (Never Modify):
#   âŒ uint8 storage type (0-255)
#   âŒ 8-bit binary ASCII encoding
#   âŒ File format (single line, 8 chars + LF)
#   âŒ 128 as center point (even balance)
#
# INTERPRETATION LAYER (Built On Foundation):
#   âš–ï¸ Ternary mapping (-100 to +100)
#   âš–ï¸ Level thresholds (7-level system)
#   âš–ï¸ Display mappings (emoji, colors)
#
# Safe to Add:
#   âœ… New calculation triggers
#   âœ… Additional display formats
#   âœ… Comments and examples
#   âœ… Tool integration hooks
#
# Requires Coordination:
#   âš ï¸ Changing level boundaries (affects interpretation)
#   âš ï¸ Modifying decay rules (affects existing health)
#   âš ï¸ Changing hierarchy rules (affects parent calculations)
#

# -----------------------------------------------------------------------------
# 4. Synthesis - Closing Note
# -----------------------------------------------------------------------------
#
# Health is weighed in a JUST BALANCE.
#
# The storage foundation (uint8, 8-bit binary) is crystallized.
# The ternary interpretation (centered at 0, integrity vs wanting) is built on it.
#
# The schema embodies the biblical principle:
#   - "Just balances, just weights... shall you have" â€” Leviticus 19:36
#   - "Let me be weighed in an even balance" â€” Job 31:6
#   - "You are weighed in the balances, and found wanting" â€” Daniel 5:27
#
# Dependencies flow upward:
#   primitives.toml â†’ types.toml â†’ schemas/health.toml â†’ bhealth tool
#                                  â†‘ YOU ARE HERE
#
# Changes here affect how the entire filesystem reports its state.
#
# "A merry heart doeth good like a medicine: but a broken spirit drieth
#  the bones."
# â€” Proverbs 17:22 KJV
#
# Let the health of the work be visible â€” weighed in a just balance.
#
# =============================================================================
# END CLOSING
# =============================================================================
